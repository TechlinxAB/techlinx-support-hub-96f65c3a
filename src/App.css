
/* Fix for select content transparency */
.select-content {
  background-color: white !important;
}

/* Fix for any dropdowns */
[role=menu],
[role=listbox],
.dropdown-content {
  background-color: white !important;
}

/* Custom toast styling */
.custom-toast {
  background-color: white !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
  border: 1px solid var(--border) !important;
  position: relative !important;
}

/* Toast wrapper to ensure content is styled correctly */
.toast-wrapper > div:first-child {
  display: flex !important;
  width: 100% !important;
}

/* Toast content container to keep title and description together */
.toast-content {
  flex: 1;
  padding-right: 12px;
  text-align: left;
}

/* Toast close button styling - fix position to right side */
[data-sonner-toast] [data-close-button] {
  position: absolute !important;
  top: 8px !important;
  right: 8px !important;
  left: auto !important;
  margin: 0 !important;
  background-color: transparent !important;
  opacity: 0.7 !important;
  padding: 4px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  border-radius: 4px !important;
  transition: opacity 0.2s ease !important;
  cursor: pointer !important;
}

[data-sonner-toast] [data-close-button]:hover {
  opacity: 1 !important;
}

/* Prevent white flash during transitions - APPLY TO ALL ELEMENTS */
html, body, #root, #__next, .root-container {
  height: 100%;
  background-color: white !important;
}

/* Main layout styles */
.flex-1 {
  flex: 1 1 0%;
  background-color: white !important;
}

/* Container styling for consistent layout */
.container-centered {
  width: 100%;
  max-width: 1280px;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;
  background-color: white !important;
}

@media (min-width: 640px) {
  .container-centered {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }
}

@media (min-width: 1024px) {
  .container-centered {
    padding-left: 2rem;
    padding-right: 2rem;
  }
}

/* CRITICAL FIX: Force white background everywhere except sidebar */
html, body {
  background-color: white !important;
}

#root {
  background-color: white !important;
}

/* Completely isolate the sidebar's green color */
.sidebar-container {
  isolation: isolate !important;
  position: fixed !important;
  z-index: 40 !important;
}

/* CRITICAL FIX: Force white background for all page content */
main, .main-content, 
[role="main"], 
.layout-container,
.app-container,
.page-container,
.outlet-container,
.content-container,
.bg-background,
.bg-muted,
div[style*="transform"],
div[style*="transition"],
div[style*="animation"],
.framer-motion,
.motion-div {
  background-color: white !important;
}

/* Prevent green background during loading */
body.loading::before {
  content: "";
  position: fixed;
  inset: 0;
  background-color: white !important;
  z-index: 999;
}

/* Force higher z-index for white overlays */
.loading-overlay {
  position: fixed !important;
  inset: 0 !important;
  background-color: white !important;
  z-index: 9999 !important;
}

/* CRITICAL FIX: Handle transition states */
* {
  background-color: transparent; /* Default to transparent */
}

/* Only explicit backgrounds for containers */
.bg-white, 
.white-background, 
main, 
#root > div, 
#root > div > div {
  background-color: white !important;
}

/* Extra specificity to target sidebar only */
div.sidebar-container {
  background-color: transparent !important; /* Let sidebar define its own bg */
}

/* Target absolute overlays that should be white */
div[style*="position: fixed"],
div[style*="position: absolute"],
[class*="overlay"],
[class*="modal"],
[class*="popup"],
[class*="dialog"] {
  background-color: white !important;
}

/* Target route transitions specifically */
[data-motion="true"],
[data-framer-motion],
.framer-motion {
  background-color: white !important;
  position: relative !important;
  z-index: 1 !important;
}

/* NEW LOADING CLASS */
.loading-wrapper {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: white !important;
  z-index: 9999;
}

/* NEW: Add explicit spinner styling */
.spinner {
  width: 40px;
  height: 40px;
  border: 4px solid rgba(0, 0, 0, 0.1);
  border-left-color: var(--primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Ensure layout wrapper has white bg */
.layout-wrapper {
  background-color: white !important;
  position: relative;
  z-index: 1;
}

/* Ensure any Framer Motion transitions have white background */
.AnimatePresence > div,
div:has(> .outlet),
div:has([data-motion]),
div[style*="opacity"],
div[style*="transform"] {
  background-color: white !important;
}

/* Override for auth loading screen */
.loading-auth-screen {
  background-color: white !important;
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Critical fix for page transitions */
.page-transition {
  background-color: white !important; 
}

/* Force white background on body class */
.loading {
  background-color: white !important;
}

/* Add override for sidebar background to ensure it doesn't leak */
.bg-sidebar {
  isolation: isolate !important;
  position: relative !important;
  z-index: 40 !important;
}

/* Ensure main content always has higher stack order than sidebar */
.flex-1, main {
  z-index: 1 !important;
  position: relative !important;
  background-color: white !important;
}

/* Dark mode fixes */
.dark [role=menu],
.dark [role=listbox],
.dark .dropdown-content,
.dark .select-content {
  background-color: hsl(224 71% 4%) !important;
}

.dark [data-sonner-toast] {
  background-color: hsl(224 71% 4%) !important;
  border-color: hsl(216 34% 17%) !important;
}

.dark .custom-toast {
  background-color: hsl(224 71% 4%) !important;
  border-color: hsl(216 34% 17%) !important;
}
